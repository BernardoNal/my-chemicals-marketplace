<h2>Your Shopping Cart</h2>

<% if @cart.present? && @cart.cart_items.any? %>
  <ul>
    <% @cart.cart_items.each do |cart_item| %>
      <%= cart_item.product.name %>
      <%= form_with url: cart_item_path(cart_item), method: :delete do %>
        <%= submit_tag 'Remove', data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
      <% end %>
    <% end %>
  </ul>
<% else %>
  <p>Your cart is empty.</p>
<% end %>

<%= link_to 'Continue Shopping', products_path %>
<%= button_to 'Empty Cart', cart_path(@cart), method: :delete, data: { confirm: 'Are you sure you want to empty your cart?' }, class: 'btn btn-warning' %>
<%= button_to "Buy", purchase_items_cart_path, method: :post, class: "btn btn-primary", data: { confirm: "Are you sure you want to complete the purchase?" } %>
